@if (review) {
<div class="review-card">
  <div class="review-header">
    <div class="reviewer-info">
      @if (review.reviewerProfilePhotoUrl) {
      <img [src]="review.reviewerProfilePhotoUrl" [alt]="review.reviewerName" class="reviewer-avatar" />
      } @else {
      <div class="reviewer-avatar-placeholder">
        <i class="bi bi-person-fill"></i>
      </div>
      }
      <div class="reviewer-details">
        <h6 class="reviewer-name">
          <a [routerLink]="['/profile', review.reviewerId]" class="text-decoration-none text-dark hover-underline">
            {{ review.reviewerName }}
          </a>
        </h6>
        <div class="review-rating" style="color: #ffd43b" [innerHTML]="review.rating | rating"></div>
      </div>
    </div>
    <div class="d-flex align-items-center gap-2">
      <span class="review-date">
        <i class="bi bi-calendar3 me-1"></i>
        {{ review.createdAt | date:'dd/MM/yyyy' }}
      </span>

      @if (currentUserId && review.reviewerId === currentUserId) {
      <div class="review-actions ms-2">
        <button class="btn btn-sm btn-light btn-icon text-primary" (click)="onEdit()" title="تعديل">
          <i class="bi bi-pencil"></i>
        </button>
        <button class="btn btn-sm btn-light btn-icon text-danger" (click)="onDelete()" title="حذف">
          <i class="bi bi-trash"></i>
        </button>
      </div>
      }
    </div>
  </div>
  <div class="review-content">
    <p>{{ review.comment }}</p>
  </div>
</div>
}