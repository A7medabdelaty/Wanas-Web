@if (review) {
<div class="review-card">
  <div class="review-header">
    <div class="reviewer-info">
      @if (review.reviewerProfilePhotoUrl) {
      <img [src]="review.reviewerProfilePhotoUrl" [alt]="review.reviewerName" class="reviewer-avatar" />
      } @else {
      <div class="reviewer-avatar-placeholder">
        <i class="bi bi-person-fill"></i>
      </div>
      }
      <div class="reviewer-details">
        <h6 class="reviewer-name">
          <a [routerLink]="['/profile', review.reviewerId]" class="text-decoration-none text-dark hover-underline">
            {{ review.reviewerName }}
          </a>
        </h6>
        <div class="review-rating" style="color: #ffd43b" [innerHTML]="review.rating | rating"></div>
        <span class="review-date">
        <i class="bi bi-calendar3 m-1"></i>
        {{ review.createdAt | date:'dd/MM/yyyy' }}
      </span>
      </div>
    </div>
    <div class="d-flex align-items-center gap-2">
      @if (currentUserId && review.reviewerId === currentUserId) {
      <div class="dropdown review-action-menu">
        <button class="btn btn-link text-muted p-0 no-arrow" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-three-dots-vertical"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end text-end">
          <li>
            <button class="dropdown-item" (click)="onEdit()">
              <i class="bi bi-pencil ms-2"></i> تعديل
            </button>
          </li>
          <li>
            <button class="dropdown-item text-danger" (click)="onDelete()">
              <i class="bi bi-trash ms-2"></i> حذف
            </button>
          </li>
        </ul>
      </div>
      }
    </div>
  </div>
  <div class="review-content">
    <p>{{ review.comment }}</p>
  </div>
</div>
}